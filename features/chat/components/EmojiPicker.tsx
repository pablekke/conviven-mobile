import React from "react";
import {
  FlatList,
  StyleSheet,
  Text,
  TouchableOpacity,
  View,
  Dimensions,
  Platform,
} from "react-native";

const { width } = Dimensions.get("window");

const EMOJIS = [
  "ðŸ˜€",
  "ðŸ˜ƒ",
  "ðŸ˜„",
  "ðŸ˜",
  "ðŸ˜†",
  "ðŸ˜…",
  "ðŸ˜‚",
  "ðŸ¤£",
  "ðŸ˜Š",
  "ðŸ˜‡",
  "ðŸ™‚",
  "ðŸ™ƒ",
  "ðŸ˜‰",
  "ðŸ˜Œ",
  "ðŸ˜",
  "ðŸ¥°",
  "ðŸ˜˜",
  "ðŸ˜—",
  "ðŸ˜™",
  "ðŸ˜š",
  "ðŸ˜‹",
  "ðŸ˜›",
  "ðŸ˜",
  "ðŸ˜œ",
  "ðŸ¤ª",
  "ðŸ¤¨",
  "ðŸ§",
  "ðŸ¤“",
  "ðŸ˜Ž",
  "ðŸ¤©",
  "ðŸ¥³",
  "ðŸ˜",
  "ðŸ˜’",
  "ðŸ˜ž",
  "ðŸ˜”",
  "ðŸ˜Ÿ",
  "ðŸ˜•",
  "ðŸ™",
  "â˜¹ï¸",
  "ðŸ˜£",
  "ðŸ˜–",
  "ðŸ˜«",
  "ðŸ˜©",
  "ðŸ¥º",
  "ðŸ˜¢",
  "ðŸ˜­",
  "ðŸ˜¤",
  "ðŸ˜ ",
  "ðŸ˜¡",
  "ðŸ¤¬",
  "ðŸ¤¯",
  "ðŸ˜³",
  "ðŸ¥µ",
  "ðŸ¥¶",
  "ðŸ˜±",
  "ðŸ˜¨",
  "ðŸ˜°",
  "ðŸ˜¥",
  "ðŸ˜“",
  "ðŸ¤—",
  "ðŸ¤”",
  "ðŸ¤­",
  "ðŸ¤«",
  "ðŸ¤¥",
  "ðŸ˜¶",
  "ðŸ˜",
  "ðŸ˜‘",
  "ðŸ˜¬",
  "ðŸ™„",
  "ðŸ˜¯",
  "ðŸ˜¦",
  "ðŸ˜§",
  "ðŸ˜®",
  "ðŸ˜²",
  "ðŸ¥±",
  "ðŸ˜´",
  "ðŸ¤¤",
  "ðŸ˜ª",
  "ðŸ˜µ",
  "ðŸ¤",
  "ðŸ¥´",
  "ðŸ¤¢",
  "ðŸ¤®",
  "ðŸ¤§",
  "ðŸ˜·",
  "ðŸ¤’",
  "ðŸ¤•",
  "ðŸ¤‘",
  "ðŸ¤ ",
  "ðŸ˜ˆ",
  "ðŸ‘¿",
  "ðŸ‘¹",
  "ðŸ‘º",
  "ðŸ¤¡",
  "ðŸ’©",
  "ðŸ‘»",
  "ðŸ’€",
  "â˜ ï¸",
  "ðŸ‘½",
  "ðŸ‘¾",
  "ðŸ¤–",
  "ðŸŽƒ",
  "ðŸ˜º",
  "ðŸ˜¸",
  "ðŸ˜¹",
  "ðŸ˜»",
  "ðŸ˜¼",
  "ðŸ˜½",
  "ðŸ™€",
  "ðŸ˜¿",
  "ðŸ˜¾",
  "ðŸ™ˆ",
  "ðŸ™‰",
  "ðŸ™Š",
  "ðŸ’¥",
  "ðŸ’«",
  "ðŸ’¦",
  "ðŸ’¨",
  "ðŸµ",
  "ðŸ’",
  "ðŸ¦",
  "ðŸ¦§",
  "ðŸ¶",
  "ðŸ•",
  "ðŸ¦®",
  "ðŸ•â€ðŸ¦º",
  "ðŸ©",
  "ðŸº",
  "ðŸ¦Š",
  "ðŸ¦",
  "ðŸ±",
  "ðŸˆ",
  "ðŸˆâ€é»‘",
  "ðŸ¦",
  "ðŸ¯",
  "ðŸ…",
  "ðŸ†",
  "ðŸ´",
  "ðŸŽ",
  "ðŸ¦„",
  "ðŸ¦“",
  "ðŸ¦Œ",
  "ðŸ¦¬",
  "ðŸ®",
  "ðŸ‚",
  "ðŸƒ",
  "ðŸ„",
  "ðŸ·",
  "ðŸ–",
  "ðŸ—",
  "ðŸ½",
  "ðŸ",
  "ðŸ‘",
  "ðŸ",
  "ðŸª",
  "ðŸ«",
  "ðŸ¦™",
  "ðŸ¦’",
  "ðŸ˜",
  "ðŸ¦£",
  "ðŸ¦",
  "ðŸ¦›",
  "ðŸ­",
  "ðŸ",
  "ðŸ€",
  "ðŸ¹",
  "ðŸ°",
  "ðŸ‡",
  "ðŸ¿ï¸",
  "ðŸ¦«",
  "ðŸ¦”",
  "ðŸ¦‡",
  "ðŸ»",
  "ðŸ»â€â„ï¸",
  "ðŸ¨",
  "ðŸ¼",
  "ðŸ¦¥",
  "ðŸ¦¦",
  "ðŸ¦¨",
  "ðŸ¦˜",
  "ðŸ¦¡",
  "ðŸ¾",
  "ðŸ¦ƒ",
  "ðŸ”",
  "ðŸ“",
  "ðŸ£",
  "ðŸ¤",
  "ðŸ¥",
  "ðŸ¦",
  "ðŸ§",
  "ðŸ•Šï¸",
  "ðŸ¦…",
  "ðŸ¦†",
  "ðŸ¦¢",
  "ðŸ¦‰",
  "ðŸ¦¤",
  "ðŸª¶",
  "ðŸ¦©",
  "ðŸ¦œ",
  "ðŸ¸",
  "ðŸŠ",
  "ðŸ¢",
  "ðŸ¦Ž",
  "ðŸ",
  "ðŸ²",
  "ðŸ‰",
  "ðŸ¦•",
  "ðŸ¦–",
  "ðŸ³",
  "ðŸ‹",
  "ðŸ¬",
  "ðŸ¦­",
  "ðŸŸ",
  "ðŸ ",
  "ðŸ¡",
  "ðŸ¦ˆ",
  "ðŸ™",
  "ðŸš",
  "ðŸŒ",
  "ðŸ¦‹",
  "ðŸ›",
  "ðŸœ",
  "ðŸ",
  "ðŸª²",
  "ðŸž",
  "ðŸ¦—",
  "ðŸª³",
  "ðŸ•·ï¸",
  "ðŸ•¸ï¸",
  "ðŸ¦‚",
  "ðŸ¦Ÿ",
  "ðŸª°",
  "ðŸª±",
  "ðŸ¦ ",
  "ðŸ’",
  "ðŸŒ¸",
  "ðŸ’®",
  "ðŸµï¸",
  "ðŸŒ¹",
  "ðŸ¥€",
  "ðŸŒº",
  "ðŸŒ»",
  "ðŸŒ¼",
  "ðŸŒ·",
  "ðŸŒ±",
  "ðŸª´",
  "ðŸŒ²",
  "ðŸŒ³",
  "ðŸŒ´",
  "ðŸŒµ",
  "ðŸŒ¾",
  "ðŸŒ¿",
  "â˜˜ï¸",
  "ðŸ€",
  "ðŸ",
  "ðŸ‚",
  "ðŸƒ",
  "ðŸ‡",
  "ðŸˆ",
  "ðŸ‰",
  "ðŸŠ",
  "ðŸ‹",
  "ðŸŒ",
  "ðŸ",
  "ðŸ¥­",
  "ðŸŽ",
  "ðŸ",
  "ðŸ",
  "ðŸ‘",
  "ðŸ’",
  "ðŸ“",
  "ðŸ«",
  "ðŸ¥",
  "ðŸ…",
  "ðŸ«’",
  "ðŸ¥¥",
  "ðŸ¥‘",
  "ðŸ†",
  "ðŸ¥”",
  "ðŸ¥•",
  "ðŸŒ½",
  "ðŸŒ¶ï¸",
  "ðŸ«‘",
  "ðŸ¥’",
  "ðŸ¥¬",
  "ðŸ¥¦",
  "ðŸ§„",
  "ðŸ§…",
  "ðŸ„",
  "ðŸ¥œ",
  "ðŸŒ°",
  "ðŸž",
  "ðŸ¥",
  "ðŸ¥–",
  "ðŸ«“",
  "ðŸ¥¨",
  "ðŸ¥¯",
  "ðŸ¥ž",
  "ðŸ§‡",
  "ðŸ§€",
  "ðŸ–",
  "ðŸ—",
  "ðŸ¥©",
  "ðŸ¥“",
  "ðŸ”",
  "ðŸŸ",
  "ðŸ•",
  "ðŸŒ­",
  "ðŸ¥ª",
  "ðŸŒ®",
  "ðŸŒ¯",
  "ðŸ«”",
  "ðŸ¥™",
  "ðŸ§†",
  "ðŸ¥š",
  "ðŸ³",
  "ðŸ¥˜",
  "ðŸ²",
  "ðŸ«•",
  "ðŸ¥£",
  "ðŸ¥—",
  "ðŸ¿",
  "ðŸ§ˆ",
  "ðŸ§‚",
  "ðŸ¥«",
  "ðŸ±",
  "ðŸ˜",
  "ðŸ™",
  "ðŸš",
  "ðŸ›",
  "ðŸœ",
  "ðŸ",
  "ðŸ ",
  "ðŸ¢",
  "ðŸ£",
  "ðŸ¤",
  "ðŸ¥",
  "ðŸ¥®",
  "ðŸ¡",
  "ðŸ¥Ÿ",
  "ðŸ¥ ",
  "ðŸ¥¡",
  "ðŸ¦€",
  "ðŸ¦ž",
  "ðŸ¦",
  "ðŸ¦‘",
  "ðŸ¦ª",
  "ðŸ¦",
  "ðŸ§",
  "ðŸ¨",
  "ðŸ©",
  "ðŸª",
  "ðŸŽ‚",
  "ðŸ°",
  "ðŸ§",
  "ðŸ¥§",
  "ðŸ«",
  "ðŸ¬",
  "ðŸ­",
  "ðŸ®",
  "ðŸ¯",
  "ðŸ¼",
  "ðŸ¥›",
  "â˜•",
  "ðŸ«–",
  "ðŸµ",
  "ðŸ¶",
  "ðŸ¾",
  "ðŸ·",
  "ðŸ¸",
  "ðŸ¹",
  "ðŸº",
  "ðŸ»",
  "ðŸ¥‚",
  "ðŸ¥ƒ",
  "ðŸ¥¤",
  "ðŸ§‹",
  "ðŸ§ƒ",
  "ðŸ§‰",
  "ðŸ§Š",
  "ðŸ¥¢",
  "ðŸ½ï¸",
  "ðŸ´",
  "ðŸ¥„",
  "ðŸ”ª",
  "ðŸº",
  "â¤ï¸",
  "ðŸ§¡",
  "ðŸ’›",
  "ðŸ’š",
  "ðŸ’™",
  "ðŸ’œ",
  "ðŸ–¤",
  "ðŸ¤",
  "ðŸ¤Ž",
  "ðŸ’”",
  "â£ï¸",
  "ðŸ’•",
  "ðŸ’ž",
  "ðŸ’“",
  "ðŸ’—",
  "ðŸ’–",
  "ðŸ’˜",
  "ðŸ’",
  "ðŸ’Ÿ",
  "ðŸ ",
  "ðŸ¡",
  "ðŸ¢",
  "ðŸ£",
  "ðŸ¤",
  "ðŸ¥",
  "ðŸ¦",
  "ðŸ¨",
  "ðŸ©",
  "ðŸª",
  "ðŸ«",
  "ðŸ¬",
  "ðŸ­",
  "ðŸ¯",
  "ðŸ°",
  "ðŸ’’",
  "ðŸ—¼",
  "ðŸ—½",
  "â›ª",
  "ðŸ•Œ",
  "ðŸ›•",
  "ðŸ•",
  "â›©ï¸",
  "ðŸ•‹",
];

export interface EmojiPickerProps {
  onEmojiSelect: (emoji: string) => void;
  height?: number;
}

export const EmojiPicker: React.FC<EmojiPickerProps> = ({ onEmojiSelect, height = 250 }) => {
  const numColumns = Math.floor(width / 45);

  return (
    <View style={[styles.container, { height }]}>
      <FlatList
        data={EMOJIS}
        keyExtractor={(item, index) => `${item}-${index}`}
        renderItem={({ item }) => (
          <TouchableOpacity
            style={styles.emojiButton}
            onPress={() => onEmojiSelect(item)}
            activeOpacity={0.6}
          >
            <Text style={styles.emojiText}>{item}</Text>
          </TouchableOpacity>
        )}
        numColumns={numColumns}
        showsVerticalScrollIndicator={false}
        contentContainerStyle={styles.listContent}
      />
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    backgroundColor: "#F8FAFC",
    borderTopWidth: 1,
    borderTopColor: "#E2E8F0",
  },
  listContent: {
    paddingHorizontal: 8,
    paddingVertical: 12,
  },
  emojiButton: {
    width: 45,
    height: 45,
    justifyContent: "center",
    alignItems: "center",
  },
  emojiText: {
    fontSize: 28,
    color: "#000",
    ...Platform.select({
      ios: {
        fontFamily: "System",
      },
      android: {
        fontFamily: "Roboto",
      },
    }),
  },
});
